#N canvas 961 90 883 709 10;
#X obj 129 629 dac~ 1 2;
#X obj 229 115 adc~ 1;
#X obj 84 115 adc~ 3 4 5, f 11;
#N canvas 637 100 665 741 regression-model 0;
#X obj 328 64 loadbang;
#X obj 90 434 snapshot~;
#X obj 168 434 snapshot~;
#X obj 249 434 snapshot~;
#X obj 248 285 lop~;
#X obj 167 286 lop~;
#X obj 90 286 lop~;
#X obj 90 497 pack f f f;
#X obj 89 341 clip~ 0 1;
#X obj 167 368 clip~ 0 1;
#X obj 248 393 clip~ 0 1;
#X msg 328 139 50;
#X obj 90 600 neuralnet;
#X obj 90 520 list prepend predict;
#X obj 90 542 list trim;
#X obj 89 317 sfapdlib/scalesiglin~ 0.31 0.52 0 1;
#X obj 167 344 sfapdlib/scalesiglin~ 0.31 0.52 0 1;
#X obj 248 369 sfapdlib/scalesiglin~ 0.31 0.52 0 1;
#X text 317 314 <<< smooth accelerometer data and scale to the range
0-1, f 39;
#X text 317 434 <<< sample accelerometer data every 50ms, f 35;
#X text 224 569 <<< load the regression model;
#X obj 90 622 unpack f f f f;
#X obj 213 647 s delay;
#X obj 263 647 s feedback;
#X obj 365 139 metro 50;
#X obj 89 63 inlet~;
#X obj 168 63 inlet~;
#X obj 249 63 inlet~;
#X msg 102 568 load reg_model.ann;
#X obj 90 647 s amplitude;
#X obj 163 647 s pulse;
#X connect 0 0 11 0;
#X connect 0 0 24 0;
#X connect 0 0 28 0;
#X connect 1 0 7 0;
#X connect 2 0 7 1;
#X connect 3 0 7 2;
#X connect 4 0 17 0;
#X connect 5 0 16 0;
#X connect 6 0 15 0;
#X connect 7 0 13 0;
#X connect 8 0 1 0;
#X connect 9 0 2 0;
#X connect 10 0 3 0;
#X connect 11 0 4 1;
#X connect 11 0 5 1;
#X connect 11 0 6 1;
#X connect 12 0 21 0;
#X connect 13 0 14 0;
#X connect 14 0 12 0;
#X connect 15 0 8 0;
#X connect 16 0 9 0;
#X connect 17 0 10 0;
#X connect 21 0 29 0;
#X connect 21 1 30 0;
#X connect 21 2 22 0;
#X connect 21 3 23 0;
#X connect 24 0 1 0;
#X connect 24 0 2 0;
#X connect 24 0 3 0;
#X connect 25 0 6 0;
#X connect 26 0 5 0;
#X connect 27 0 4 0;
#X connect 28 0 12 0;
#X restore 60 172 pd regression-model;
#X obj 564 567 loadbang;
#X msg 564 589 \; fmin 207 \; fmax 1300;
#X text 564 630 Frequency range of the soprano saxophone;
#N canvas 32 32 613 591 reverb~ 0;
#X obj 291 139 inlet;
#X obj 203 139 inlet;
#X obj 203 330 line~;
#X obj 48 419 *~;
#X obj 117 420 *~;
#X obj 203 279 dbtorms;
#X obj 203 304 pack 0 30;
#X obj 291 286 pack 0 50;
#X obj 48 449 outlet~;
#X obj 117 449 outlet~;
#X obj 291 237 clip 0 100;
#X obj 203 213 f \$1;
#X obj 291 213 f \$2;
#X obj 396 213 f \$3;
#X obj 477 213 f \$4;
#X obj 396 175 loadbang;
#X obj 185 419 *~;
#X obj 247 420 *~;
#X obj 185 449 outlet~;
#X obj 247 449 outlet~;
#X obj 396 242 moses 1;
#X msg 396 268 3000;
#X obj 477 268 clip 0 100;
#X obj 387 303 f;
#X obj 389 139 inlet;
#X obj 477 139 inlet;
#X obj 477 291 f;
#X obj 477 314 * 0.01;
#X obj 477 338 pack 0 50;
#X text 230 25 control inlets:;
#X text 227 44 1: output level \, dB \, 0-100;
#X text 226 94 4: high frequency damping \, 0-100;
#X text 227 77 3: crossover frequency in Hz. (3000 default);
#X text 227 60 2: liveness \, 0-100 \, usually between 85 and 100;
#X obj 387 327 s \$0-lop;
#N canvas 730 78 1096 904 doit 0;
#X obj 372 419 *~;
#X obj 498 429 *~;
#X obj 426 422 *~;
#X obj 463 425 *~;
#X obj 184 184 lop~;
#X obj 184 215 -~;
#X obj 184 293 *~;
#X obj 166 321 +~;
#X obj 235 184 lop~;
#X obj 235 215 -~;
#X obj 235 293 *~;
#X obj 217 321 +~;
#X obj 284 184 lop~;
#X obj 284 215 -~;
#X obj 284 293 *~;
#X obj 266 321 +~;
#X obj 336 184 lop~;
#X obj 336 215 -~;
#X obj 336 293 *~;
#X obj 318 321 +~;
#X obj 165 405 *~;
#X obj 319 416 *~;
#X obj 217 409 *~;
#X obj 265 413 *~;
#X obj 361 149 r \$0-lop;
#X obj 354 238 r \$0-damp;
#X obj 354 263 line~;
#X obj 167 27 delread~ \$0-del1 10;
#X obj 267 69 delread~ \$0-del3 13.4567;
#X obj 218 48 delread~ \$0-del2 11.6356;
#X obj 321 90 delread~ \$0-del4 16.7345;
#X obj 702 440 *~;
#X obj 826 442 *~;
#X obj 736 441 *~;
#X obj 791 442 *~;
#X obj 536 432 *~;
#X obj 645 439 *~;
#X obj 573 435 *~;
#X obj 611 438 *~;
#X obj 844 390 line~;
#X obj 844 367 r \$0-fb;
#X obj 372 113 delread~ \$0-del5 20.1862;
#X obj 426 134 delread~ \$0-del6 25.7417;
#X obj 463 155 delread~ \$0-del7 31.4693;
#X obj 498 176 delread~ \$0-del8 38.2944;
#X obj 536 197 delread~ \$0-del9 46.6838;
#X obj 573 218 delread~ \$0-del10 55.4567;
#X obj 645 260 delread~ \$0-del12 76.8243;
#X obj 702 281 delread~ \$0-del13 88.5623;
#X obj 736 302 delread~ \$0-del14 101.278;
#X obj 791 323 delread~ \$0-del15 115.397;
#X obj 826 344 delread~ \$0-del16 130.502;
#X obj 42 287 inlet~;
#X obj 95 286 inlet~;
#X obj 193 473 +~;
#X obj 229 473 -~;
#X obj 265 473 +~;
#X obj 301 473 -~;
#X obj 372 473 +~;
#X obj 408 473 -~;
#X obj 444 473 +~;
#X obj 480 473 -~;
#X obj 519 473 +~;
#X obj 555 473 -~;
#X obj 591 473 +~;
#X obj 627 473 -~;
#X obj 682 473 +~;
#X obj 718 473 -~;
#X obj 772 473 +~;
#X obj 808 473 -~;
#X obj 193 507 +~;
#X obj 301 507 -~;
#X obj 229 507 +~;
#X obj 265 507 -~;
#X obj 372 507 +~;
#X obj 480 507 -~;
#X obj 408 507 +~;
#X obj 444 507 -~;
#X obj 519 507 +~;
#X obj 627 507 -~;
#X obj 555 507 +~;
#X obj 591 507 -~;
#X obj 682 507 +~;
#X obj 790 507 -~;
#X obj 718 507 +~;
#X obj 754 507 -~;
#X obj 193 551 +~;
#X obj 229 551 +~;
#X obj 462 551 -~;
#X obj 426 551 -~;
#X obj 265 551 +~;
#X obj 301 551 +~;
#X obj 354 551 -~;
#X obj 390 551 -~;
#X obj 519 551 +~;
#X obj 555 551 +~;
#X obj 772 551 -~;
#X obj 736 551 -~;
#X obj 591 551 +~;
#X obj 627 551 +~;
#X obj 664 551 -~;
#X obj 700 551 -~;
#X obj 194 608 +~;
#X obj 230 608 +~;
#X obj 609 608 -~;
#X obj 573 608 -~;
#X obj 266 608 +~;
#X obj 302 608 +~;
#X obj 501 608 -~;
#X obj 537 608 -~;
#X obj 355 608 +~;
#X obj 391 608 +~;
#X obj 427 608 +~;
#X obj 463 608 +~;
#X obj 754 608 -~;
#X obj 718 608 -~;
#X obj 646 608 -~;
#X obj 682 608 -~;
#X obj 798 655 outlet~;
#X obj 868 655 outlet~;
#X obj 938 656 outlet~;
#X obj 1008 656 outlet~;
#X obj 611 239 delread~ \$0-del11 65.1755;
#X obj 754 692 delwrite~ \$0-del16 130.502;
#X obj 501 839 delwrite~ \$0-del9 46.6838;
#X obj 538 818 delwrite~ \$0-del10 55.4567;
#X obj 574 797 delwrite~ \$0-del11 65.1755;
#X obj 610 776 delwrite~ \$0-del12 76.8243;
#X obj 646 755 delwrite~ \$0-del13 88.5623;
#X obj 682 734 delwrite~ \$0-del14 101.278;
#X obj 719 713 delwrite~ \$0-del15 115.397;
#X obj 463 669 delwrite~ \$0-del8 38.2944;
#X obj 427 691 delwrite~ \$0-del7 31.4693;
#X obj 392 713 delwrite~ \$0-del6 25.7417;
#X obj 355 735 delwrite~ \$0-del5 20.1862;
#X obj 195 824 delwrite~ \$0-del1 10;
#X obj 230 800 delwrite~ \$0-del2 11.6356;
#X obj 265 778 delwrite~ \$0-del3 13.4567;
#X obj 303 756 delwrite~ \$0-del4 16.7345;
#X connect 0 0 58 0;
#X connect 0 0 59 0;
#X connect 1 0 60 1;
#X connect 1 0 61 1;
#X connect 2 0 58 1;
#X connect 2 0 59 1;
#X connect 3 0 60 0;
#X connect 3 0 61 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 7 1;
#X connect 7 0 20 0;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 10 0 11 1;
#X connect 11 0 22 0;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X connect 14 0 15 1;
#X connect 15 0 23 0;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 18 0 19 1;
#X connect 19 0 21 0;
#X connect 20 0 54 0;
#X connect 20 0 55 0;
#X connect 21 0 56 1;
#X connect 21 0 57 1;
#X connect 22 0 55 1;
#X connect 22 0 54 1;
#X connect 23 0 56 0;
#X connect 23 0 57 0;
#X connect 24 0 16 1;
#X connect 24 0 12 1;
#X connect 24 0 8 1;
#X connect 24 0 4 1;
#X connect 25 0 26 0;
#X connect 26 0 18 1;
#X connect 26 0 14 1;
#X connect 26 0 10 1;
#X connect 26 0 6 1;
#X connect 27 0 4 0;
#X connect 27 0 5 1;
#X connect 27 0 7 0;
#X connect 28 0 15 0;
#X connect 28 0 12 0;
#X connect 28 0 13 1;
#X connect 29 0 8 0;
#X connect 29 0 9 1;
#X connect 29 0 11 0;
#X connect 30 0 19 0;
#X connect 30 0 17 1;
#X connect 30 0 16 0;
#X connect 31 0 66 0;
#X connect 31 0 67 0;
#X connect 32 0 68 1;
#X connect 32 0 69 1;
#X connect 33 0 66 1;
#X connect 33 0 67 1;
#X connect 34 0 68 0;
#X connect 34 0 69 0;
#X connect 35 0 62 0;
#X connect 35 0 63 0;
#X connect 36 0 64 1;
#X connect 36 0 65 1;
#X connect 37 0 62 1;
#X connect 37 0 63 1;
#X connect 38 0 64 0;
#X connect 38 0 65 0;
#X connect 39 0 2 1;
#X connect 39 0 0 1;
#X connect 39 0 3 1;
#X connect 39 0 1 1;
#X connect 39 0 21 1;
#X connect 39 0 23 1;
#X connect 39 0 22 1;
#X connect 39 0 20 1;
#X connect 39 0 35 1;
#X connect 39 0 38 1;
#X connect 39 0 36 1;
#X connect 39 0 31 1;
#X connect 39 0 33 1;
#X connect 39 0 34 1;
#X connect 39 0 32 1;
#X connect 39 0 37 1;
#X connect 40 0 39 0;
#X connect 41 0 0 0;
#X connect 42 0 2 0;
#X connect 43 0 3 0;
#X connect 44 0 1 0;
#X connect 45 0 35 0;
#X connect 46 0 37 0;
#X connect 47 0 36 0;
#X connect 48 0 31 0;
#X connect 49 0 33 0;
#X connect 50 0 34 0;
#X connect 51 0 32 0;
#X connect 52 0 20 0;
#X connect 53 0 22 0;
#X connect 54 0 70 0;
#X connect 54 0 73 0;
#X connect 55 0 72 0;
#X connect 55 0 71 0;
#X connect 56 0 70 1;
#X connect 56 0 73 1;
#X connect 57 0 72 1;
#X connect 57 0 71 1;
#X connect 58 0 74 0;
#X connect 58 0 77 0;
#X connect 59 0 76 0;
#X connect 59 0 75 0;
#X connect 60 0 74 1;
#X connect 60 0 77 1;
#X connect 61 0 76 1;
#X connect 61 0 75 1;
#X connect 62 0 78 0;
#X connect 62 0 81 0;
#X connect 63 0 80 0;
#X connect 63 0 79 0;
#X connect 64 0 78 1;
#X connect 64 0 81 1;
#X connect 65 0 80 1;
#X connect 65 0 79 1;
#X connect 66 0 82 0;
#X connect 66 0 85 0;
#X connect 67 0 84 0;
#X connect 67 0 83 0;
#X connect 68 0 82 1;
#X connect 68 0 85 1;
#X connect 69 0 84 1;
#X connect 69 0 83 1;
#X connect 70 0 86 0;
#X connect 70 0 92 0;
#X connect 71 0 91 0;
#X connect 71 0 88 0;
#X connect 72 0 87 0;
#X connect 72 0 93 0;
#X connect 73 0 90 0;
#X connect 73 0 89 0;
#X connect 74 0 86 1;
#X connect 74 0 92 1;
#X connect 75 0 91 1;
#X connect 75 0 88 1;
#X connect 76 0 87 1;
#X connect 76 0 93 1;
#X connect 77 0 90 1;
#X connect 77 0 89 1;
#X connect 78 0 94 0;
#X connect 78 0 100 0;
#X connect 79 0 99 0;
#X connect 79 0 96 0;
#X connect 80 0 95 0;
#X connect 80 0 101 0;
#X connect 81 0 98 0;
#X connect 81 0 97 0;
#X connect 82 0 94 1;
#X connect 82 0 100 1;
#X connect 83 0 99 1;
#X connect 83 0 96 1;
#X connect 84 0 95 1;
#X connect 84 0 101 1;
#X connect 85 0 98 1;
#X connect 85 0 97 1;
#X connect 86 0 102 0;
#X connect 86 0 108 0;
#X connect 87 0 103 0;
#X connect 87 0 109 0;
#X connect 88 0 113 0;
#X connect 88 0 114 0;
#X connect 89 0 112 0;
#X connect 89 0 115 0;
#X connect 90 0 106 0;
#X connect 90 0 105 0;
#X connect 91 0 107 0;
#X connect 91 0 104 0;
#X connect 92 0 110 0;
#X connect 92 0 116 0;
#X connect 93 0 111 0;
#X connect 93 0 117 0;
#X connect 94 0 108 1;
#X connect 94 0 102 1;
#X connect 95 0 109 1;
#X connect 95 0 103 1;
#X connect 96 0 114 1;
#X connect 96 0 113 1;
#X connect 97 0 115 1;
#X connect 97 0 112 1;
#X connect 98 0 105 1;
#X connect 98 0 106 1;
#X connect 99 0 104 1;
#X connect 99 0 107 1;
#X connect 100 0 116 1;
#X connect 100 0 110 1;
#X connect 101 0 117 1;
#X connect 101 0 111 1;
#X connect 102 0 135 0;
#X connect 103 0 136 0;
#X connect 104 0 127 0;
#X connect 105 0 126 0;
#X connect 106 0 137 0;
#X connect 107 0 138 0;
#X connect 108 0 124 0;
#X connect 109 0 125 0;
#X connect 110 0 134 0;
#X connect 111 0 133 0;
#X connect 112 0 132 0;
#X connect 113 0 131 0;
#X connect 114 0 121 0;
#X connect 114 0 123 0;
#X connect 115 0 120 0;
#X connect 115 0 130 0;
#X connect 116 0 118 0;
#X connect 116 0 128 0;
#X connect 117 0 119 0;
#X connect 117 0 129 0;
#X connect 122 0 38 0;
#X restore 48 322 pd doit;
#X obj 48 139 inlet~;
#X obj 94 139 inlet~;
#X obj 291 316 s \$0-fb;
#X obj 477 365 s \$0-damp;
#X text 75 498 rev3 - 16-delay reverberator. Like rev2~ but presumably
higher-quality and takes two audio inputs.;
#X obj 291 262 / 400;
#N canvas 810 240 378 476 early 0;
#X obj 82 10 inlet~;
#X obj 191 10 inlet~;
#N canvas 1231 209 468 181 write1 0;
#X obj 83 25 inlet~;
#X obj 104 59 delwrite~ \$0-early1 1.42763;
#X obj 84 99 outlet~;
#X connect 0 0 1 0;
#X connect 0 0 2 0;
#X restore 191 67 pd write1;
#N canvas 564 347 472 159 read1 0;
#X obj 77 12 inlet~;
#X obj 78 56 delread~ \$0-early1 1.42763;
#X obj 78 81 outlet~;
#X connect 1 0 2 0;
#X restore 191 92 pd read1;
#X obj 82 121 +~;
#X obj 173 122 -~;
#X obj 82 205 +~;
#X obj 171 206 -~;
#X obj 82 289 +~;
#X obj 173 290 -~;
#N canvas 514 372 468 181 write2 0;
#X obj 83 25 inlet~;
#X obj 84 99 outlet~;
#X obj 116 65 delwrite~ \$0-early2 3.23873;
#X connect 0 0 1 0;
#X connect 0 0 2 0;
#X restore 189 151 pd write2;
#N canvas 322 262 472 159 read2 0;
#X obj 77 12 inlet~;
#X obj 78 81 outlet~;
#X obj 78 56 delread~ \$0-early2 3.23873;
#X connect 2 0 1 0;
#X restore 189 176 pd read2;
#N canvas 19 394 468 181 write3 0;
#X obj 83 25 inlet~;
#X obj 84 99 outlet~;
#X obj 116 66 delwrite~ \$0-early3 5.2345;
#X connect 0 0 1 0;
#X connect 0 0 2 0;
#X restore 191 236 pd write3;
#N canvas 322 262 472 159 read3 0;
#X obj 77 12 inlet~;
#X obj 78 81 outlet~;
#X obj 78 56 delread~ \$0-early3 5.2345;
#X connect 2 0 1 0;
#X restore 191 260 pd read3;
#N canvas 428 355 468 181 write4 0;
#X obj 83 25 inlet~;
#X obj 84 99 outlet~;
#X obj 117 66 delwrite~ \$0-early4 7.82312;
#X connect 0 0 1 0;
#X connect 0 0 2 0;
#X restore 173 320 pd write4;
#N canvas 321 261 472 159 read4 0;
#X obj 77 12 inlet~;
#X obj 78 81 outlet~;
#X obj 78 56 delread~ \$0-early4 7.82312;
#X connect 2 0 1 0;
#X restore 173 345 pd read4;
#X obj 82 416 outlet~;
#X obj 173 416 outlet~;
#X obj 82 380 *~ 0.3535;
#X obj 173 380 *~ 0.3535;
#X connect 0 0 4 0;
#X connect 0 0 5 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 5 1;
#X connect 3 0 4 1;
#X connect 4 0 6 0;
#X connect 4 0 7 0;
#X connect 5 0 10 0;
#X connect 6 0 8 0;
#X connect 6 0 9 0;
#X connect 7 0 12 0;
#X connect 8 0 18 0;
#X connect 9 0 14 0;
#X connect 10 0 11 0;
#X connect 11 0 7 1;
#X connect 11 0 6 1;
#X connect 12 0 13 0;
#X connect 13 0 9 1;
#X connect 13 0 8 1;
#X connect 14 0 15 0;
#X connect 15 0 19 0;
#X connect 18 0 16 0;
#X connect 19 0 17 0;
#X restore 48 284 pd early;
#X msg 173 176 90;
#X msg 262 177 95;
#X connect 0 0 12 0;
#X connect 1 0 11 0;
#X connect 2 0 3 1;
#X connect 2 0 4 1;
#X connect 2 0 16 1;
#X connect 2 0 17 1;
#X connect 3 0 8 0;
#X connect 4 0 9 0;
#X connect 5 0 6 0;
#X connect 6 0 2 0;
#X connect 7 0 38 0;
#X connect 10 0 41 0;
#X connect 11 0 5 0;
#X connect 12 0 10 0;
#X connect 13 0 20 0;
#X connect 14 0 22 0;
#X connect 15 0 11 0;
#X connect 15 0 12 0;
#X connect 15 0 13 0;
#X connect 15 0 14 0;
#X connect 15 0 43 0;
#X connect 15 0 44 0;
#X connect 16 0 18 0;
#X connect 17 0 19 0;
#X connect 20 0 21 0;
#X connect 20 1 23 0;
#X connect 21 0 23 0;
#X connect 22 0 26 0;
#X connect 23 0 34 0;
#X connect 24 0 23 0;
#X connect 25 0 14 0;
#X connect 26 0 27 0;
#X connect 27 0 28 0;
#X connect 28 0 39 0;
#X connect 35 0 3 0;
#X connect 35 1 4 0;
#X connect 35 2 16 0;
#X connect 35 3 17 0;
#X connect 36 0 42 0;
#X connect 37 0 42 1;
#X connect 41 0 7 0;
#X connect 42 0 35 0;
#X connect 42 1 35 1;
#X connect 43 0 11 0;
#X connect 44 0 12 0;
#X restore 229 555 pd reverb~;
#X obj 230 171 hip~ 207;
#X obj 230 193 lop~ 1300;
#N canvas 1121 137 655 645 velocity 0;
#X obj 137 403 sig~ 1;
#X obj 174 428 /~;
#X obj 303 233 samplerate~;
#X obj 276 192 loadbang;
#X obj 276 212 t b b;
#X obj 276 232 f 1;
#X obj 276 252 /;
#X obj 189 309 rpole~ 1;
#X obj 189 330 hip~ 1;
#X obj 251 309 rpole~ 1;
#X obj 251 330 hip~ 1;
#X obj 189 363 *~;
#X obj 251 363 *~;
#X obj 251 284 *~ 0;
#X obj 189 284 *~ 0;
#X obj 189 402 rsqrt~;
#X text 305 139 Centre around 0 (DC block);
#X text 305 159 Add some pre-gain;
#X text 307 254 Compute inverse of sampling rate;
#X text 313 308 Accumulate samples;
#X text 302 331 Centre around 0 (DC block);
#X text 237 404 Calculate inverse sqrt (faster);
#X obj 125 309 rpole~ 1;
#X obj 125 330 hip~ 1;
#X obj 125 363 *~;
#X obj 125 284 *~ 0;
#X obj 125 109 inlet~;
#X obj 188 109 inlet~;
#X obj 250 110 inlet~;
#X obj 174 546 outlet~;
#X text 124 51 Integration of accelerometer data to estimate velocity
is adapted from: https://learn.bela.io/tutorials/pure-data/sensors/accelerometer/
;
#X obj 175 450 abs~;
#X obj 125 138 hip~ 1;
#X obj 189 139 hip~ 1;
#X obj 250 139 hip~ 1;
#X obj 125 160 *~ 100;
#X obj 189 161 *~ 100;
#X obj 250 161 *~ 100;
#X obj 174 473 -~ 0.01;
#X obj 173 523 clip~ 0 1;
#X text 391 498 <<< scale velocity to amplify it;
#X text 227 473 <<< convert values under threshold to zero;
#X obj 174 498 sfapdlib/scalesiglin~ -0.01 0.5 0 1;
#X connect 0 0 1 0;
#X connect 1 0 31 0;
#X connect 2 0 6 1;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 4 1 2 0;
#X connect 5 0 6 0;
#X connect 6 0 13 1;
#X connect 6 0 14 1;
#X connect 6 0 25 1;
#X connect 7 0 8 0;
#X connect 8 0 11 0;
#X connect 8 0 11 1;
#X connect 9 0 10 0;
#X connect 10 0 12 0;
#X connect 10 0 12 1;
#X connect 11 0 15 0;
#X connect 12 0 15 0;
#X connect 13 0 9 0;
#X connect 14 0 7 0;
#X connect 15 0 1 1;
#X connect 22 0 23 0;
#X connect 23 0 24 0;
#X connect 23 0 24 1;
#X connect 24 0 15 0;
#X connect 25 0 22 0;
#X connect 26 0 32 0;
#X connect 27 0 33 0;
#X connect 28 0 34 0;
#X connect 31 0 38 0;
#X connect 32 0 35 0;
#X connect 33 0 36 0;
#X connect 34 0 37 0;
#X connect 35 0 25 0;
#X connect 36 0 14 0;
#X connect 37 0 13 0;
#X connect 38 0 42 0;
#X connect 39 0 29 0;
#X connect 42 0 39 0;
#X restore 83 359 pd velocity;
#X obj 275 150 r fmin;
#X obj 285 170 r fmax;
#X text 322 151 <<< remove frequencies under lowest saxophone frequency
;
#X text 328 171 <<< remove frequencies under highest saxophone frequency
;
#X text 256 463 <<< synthesized sound;
#X text 299 556 <<< add reverb;
#X text 93 463 <<< acoustic sound;
#N canvas 796 42 953 753 synthesis 0;
#X floatatom 522 81 8 0 0 2 amplitude - - 0;
#X floatatom 591 81 8 0 0 2 pulse - - 0;
#X floatatom 663 81 8 0 0 2 delay - - 0;
#X floatatom 729 81 8 0 0 2 feedback - - 0;
#X obj 130 556 *~;
#X obj 663 7 r delay;
#X obj 729 7 r feedback;
#X text 660 53 Feedback modulation;
#X obj 93 651 *~;
#X obj 94 679 outlet~;
#X text 86 103 <<< convert midi to frequency;
#X obj 53 166 spigot;
#X obj 53 103 mtof;
#X obj 86 146 > 207;
#X text 109 190 <<< part stream of numbers to remove continuous rumble
;
#X obj 53 189 moses 1;
#X text 202 82 <<< sinusoidal analysis and pitch tracking;
#X obj 53 35 inlet~;
#X obj 112 127 r fmin;
#X text 124 147 <<< block messages under lowest saxophone frequency
;
#X obj 51 597 sel 0;
#X msg 51 620 0;
#X msg 51 574 1;
#X text 90 599 <<< turn off volume if no notes are played;
#X text 59 64 Pitch tracking;
#X obj 53 82 sigmund~ -hop 512 pitch;
#X text 129 514 FEEDBACK MODULATION;
#X obj 729 158 pack 0 50;
#X obj 729 181 line~;
#X text 768 182 <<< to avoid clicks;
#X obj 181 244 pack 0 50;
#X obj 181 264 line~;
#X text 220 265 <<< to avoid clicks;
#X obj 130 536 delread4~ \$0-buffer 0;
#X obj 663 113 pack 0 50;
#X obj 663 136 line~;
#X text 700 137 <<< to avoid clicks;
#X obj 92 243 sig~;
#X obj 93 282 +~;
#X obj 93 302 phasor~;
#X obj 599 23 * 0.001;
#X obj 94 483 *~;
#X obj 109 420 osc~;
#X obj 109 441 +~ 1;
#X obj 109 462 *~ 0.5;
#X obj 522 7 r amplitude;
#X obj 599 7 r pulse;
#X text 158 445 <<< add 1 to the signal and multiply by 0.5 to get
an output range from 0 to 1;
#X text 517 53 AM/PWM modulation;
#X obj 181 304 abs~;
#X obj 181 285 osc~;
#X obj 109 263 osc~ 5;
#X obj 94 325 expr~ $v1 > $v2;
#X text 218 286 <<< LFO sine wave ranging from -1 to 1;
#X text 217 304 <<< convert values between 0 to 1;
#X text 106 400 AMPLITUDE MODULATION;
#X text 99 223 PULSE WIDTH MODULATION;
#X obj 729 23 * 0.001;
#X obj 131 577 delwrite~ \$0-buffer 1000;
#X obj 94 346 -~ 0.5;
#X obj 93 365 *~ 2;
#X text 127 365 <<< convert values between -1 to 1;
#X obj 522 24 * 0.01;
#X connect 0 0 42 0;
#X connect 1 0 30 0;
#X connect 2 0 34 0;
#X connect 3 0 27 0;
#X connect 4 0 8 0;
#X connect 4 0 58 0;
#X connect 5 0 2 0;
#X connect 6 0 57 0;
#X connect 8 0 9 0;
#X connect 11 0 15 0;
#X connect 12 0 11 0;
#X connect 12 0 13 0;
#X connect 13 0 11 1;
#X connect 15 0 20 0;
#X connect 15 1 22 0;
#X connect 15 1 37 0;
#X connect 17 0 25 0;
#X connect 18 0 13 1;
#X connect 20 0 21 0;
#X connect 20 1 8 1;
#X connect 21 0 8 1;
#X connect 22 0 20 0;
#X connect 25 0 12 0;
#X connect 27 0 28 0;
#X connect 28 0 4 1;
#X connect 30 0 31 0;
#X connect 31 0 50 0;
#X connect 33 0 4 0;
#X connect 34 0 35 0;
#X connect 35 0 33 0;
#X connect 37 0 38 0;
#X connect 38 0 39 0;
#X connect 39 0 52 0;
#X connect 40 0 1 0;
#X connect 41 0 58 0;
#X connect 41 0 8 0;
#X connect 42 0 43 0;
#X connect 43 0 44 0;
#X connect 44 0 41 1;
#X connect 45 0 62 0;
#X connect 46 0 40 0;
#X connect 49 0 52 1;
#X connect 50 0 49 0;
#X connect 51 0 38 1;
#X connect 52 0 59 0;
#X connect 57 0 3 0;
#X connect 59 0 60 0;
#X connect 60 0 41 0;
#X connect 62 0 0 0;
#X coords 0 -1 1 1 280 65 1 510 40;
#X restore 230 267 pd synthesis;
#X text 238 247 Sound synthesis engine with 4 control parameters;
#X text 53 51 Saxelerophone: demonstrating gestural virtuosity;
#X text 53 65 ================================================;
#X text 162 359 <<< velocity is used to blend the acoustic sound of
the saxophone with the sound generated by the synthesis engine. The
higher the velocity \, the more synthesized the sound.;
#X obj 83 430 expr~ 1 - $v1;
#X obj 67 462 *~;
#X obj 230 463 *~;
#X text 280 115 <<< contact microphone input;
#X connect 1 0 8 0;
#X connect 2 0 3 0;
#X connect 2 0 10 0;
#X connect 2 1 3 1;
#X connect 2 1 10 1;
#X connect 2 2 3 2;
#X connect 2 2 10 2;
#X connect 4 0 5 0;
#X connect 7 0 0 0;
#X connect 7 1 0 1;
#X connect 8 0 9 0;
#X connect 9 0 18 0;
#X connect 9 0 24 0;
#X connect 10 0 23 0;
#X connect 10 0 25 1;
#X connect 11 0 8 1;
#X connect 12 0 9 1;
#X connect 18 0 25 0;
#X connect 23 0 24 1;
#X connect 24 0 0 0;
#X connect 24 0 0 1;
#X connect 25 0 0 0;
#X connect 25 0 0 1;
#X connect 25 0 7 0;
